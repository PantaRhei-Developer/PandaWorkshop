# 設定画面仕様書

## 1. 画面概要
ユーザーの個人設定、アレルギー情報、好みの調整などを管理する画面。
使いやすいタブ形式で各設定項目を整理します。

## 2. 画面レイアウト

### 2.1 ヘッダー部分
- **位置**: 画面上部全幅
- **高さ**: 70px
- **背景色**: #FF6B35
- **内容**:
  - 戻るボタン（左寄せ、「← レシピ画面へ」、白色、フォントサイズ16px）
  - タイトル「設定」（中央、白色、フォントサイズ20px、太字）
  - ログアウトボタン（右寄せ、白色、フォントサイズ16px）

### 2.2 メインコンテンツ
- **背景色**: #F8F9FA
- **パディング**: 40px 20px
- **最大幅**: 800px、中央寄せ

#### タブナビゲーション
- **位置**: メインコンテンツ上部
- **背景色**: 白色
- **ボーダー**: 下部に1px solid #E5E5E5
- **タブ項目**:
  1. プロフィール
  2. 食材設定
  3. レシピ設定
  4. 通知設定

#### タブボタン仕様
- **サイズ**: 幅200px、高さ50px
- **背景色**: 透明（非アクティブ）、#FF6B35（アクティブ）
- **文字色**: #666（非アクティブ）、白色（アクティブ）
- **フォントサイズ**: 16px
- **ホバーエフェクト**: 背景色#F0F0F0

## 3. タブ内容詳細

### 3.1 プロフィールタブ
- **背景色**: 白色
- **パディング**: 40px
- **角丸**: 8px（下部のみ）

#### 設定項目（上から順）

1. **プロフィール画像**
   - **位置**: 中央上部
   - **サイズ**: 120px × 120px（円形）
   - **デフォルト**: グレー背景 + ユーザーアイコン
   - **変更ボタン**: 画像下部に「画像を変更」ボタン

2. **表示名**
   - **ラベル**: 「表示名」（フォントサイズ14px、#666色）
   - **入力欄**: 
     - 幅100%、高さ48px
     - ボーダー：1px solid #DDD
     - フォントサイズ16px
   - **下マージン**: 24px

3. **メールアドレス**
   - **ラベル**: 「メールアドレス」
   - **表示**: 現在のメールアドレス（変更不可、グレーアウト）
   - **下マージン**: 24px

4. **パスワード変更**
   - **ボタン**: 「パスワードを変更する」
   - **スタイル**: ボーダーボタン（#FF6B35）
   - **サイズ**: 幅200px、高さ40px

### 3.2 食材設定タブ

#### アレルギー情報設定
1. **セクションタイトル**: 「アレルギー情報」（フォントサイズ18px、太字）
2. **アレルギー項目**（チェックボックス形式）:
   - 卵、乳製品、小麦、そば、落花生、えび、かに
   - その他（自由入力欄付き）
3. **レイアウト**: 2列表示（PC）、1列表示（モバイル）

#### 嫌いな食材設定
1. **セクションタイトル**: 「嫌いな食材」
2. **選択UI**: レシピ画面と同様のカテゴリー選択
3. **表示**: 選択した食材をタグ形式で表示
4. **削除**: 各タグに×ボタン

#### 好きな食材設定
1. **セクションタイトル**: 「好きな食材」
2. **機能**: 嫌いな食材設定と同様
3. **効果**: レシピ生成時に優先的に使用

### 3.3 レシピ設定タブ

#### 調理時間設定
1. **ラベル**: 「希望調理時間」
2. **UI**: スライダー（15分〜120分）
3. **表示**: 現在値をリアルタイム表示
4. **デフォルト**: 30分

#### 辛さレベル設定
1. **ラベル**: 「辛さの好み」
2. **選択肢**: 
   - 辛いものが苦手
   - 普通
   - 辛いものが好き
   - 激辛好き
3. **UI**: ラジオボタン

#### カロリー目標設定
1. **ラベル**: 「1食あたりのカロリー目標」
2. **UI**: 数値入力欄
3. **範囲**: 300〜1000kcal
4. **デフォルト**: 500kcal

#### 作り置き日数設定
1. **ラベル**: 「作り置き保存日数」
2. **選択肢**: 3日間、5日間、7日間
3. **UI**: セレクトボックス
4. **デフォルト**: 5日間

### 3.4 通知設定タブ

#### プッシュ通知設定
1. **全体設定**: 「通知を受け取る」（トグルスイッチ）
2. **個別設定**:
   - 新しいレシピのお知らせ
   - 週間レシピの提案
   - アップデート情報
3. **時間設定**: 通知を受け取る時間帯

#### メール通知設定
1. **設定項目**: プッシュ通知と同様
2. **頻度設定**: 毎日、週1回、月1回、なし

## 4. 操作・保存機能

### 4.1 保存ボタン
- **位置**: 各タブ下部
- **サイズ**: 幅150px、高さ48px
- **背景色**: #FF6B35
- **文字**: 「保存する」（白色、太字）
- **状態管理**: 変更があった場合のみ有効化

### 4.2 リセットボタン
- **位置**: 保存ボタンの隣
- **サイズ**: 幅120px、高さ48px
- **スタイル**: ボーダーボタン
- **文字**: 「リセット」
- **機能**: 変更前の状態に戻す

## 5. レスポンシブデザイン

### 5.1 デスクトップ（1024px以上）
- タブ: 横並び表示
- 設定項目: 2列表示

### 5.2 タブレット（768px〜1023px）
- タブ: 横並び（文字サイズ小）
- 設定項目: 1列表示

### 5.3 モバイル（767px以下）
- タブ: ドロップダウン形式
- パディング縮小
- フォントサイズ調整

## 6. バリデーション

### 6.1 入力チェック
- **表示名**: 必須、1-50文字
- **カロリー**: 300-1000の数値のみ
- **調理時間**: 15-120分の範囲

### 6.2 エラー表示
- **位置**: 各入力欄の下
- **色**: #E74C3C
- **フォントサイズ**: 12px

## 7. 画面遷移

### 7.1 遷移先
- **戻るボタン**: `/recipe` （レシピ画面）
- **ログアウト**: `/` （ウェルカム画面）
- **パスワード変更**: `/password-change` （パスワード変更画面）

### 7.2 保存成功時
- トースト通知: 「設定を保存しました」（3秒表示）
- 画面そのまま（リロードなし）

## 8. 技術実装要件
- タブ状態: useState管理
- フォームバリデーション: react-hook-form使用
- 画像アップロード: Firebase Storage使用
- 設定データ: Firestore保存

## 9. アクセシビリティ要件
- タブキーナビゲーション対応
- スクリーンリーダー対応
- 十分なカラーコントラスト確保
- フォーカス表示の明確化
